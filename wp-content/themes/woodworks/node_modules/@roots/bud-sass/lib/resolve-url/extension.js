import { __decorate } from "tslib";
import { Extension } from '@roots/bud-framework/extension';
import { label } from '@roots/bud-framework/extension/decorators';
let BudResolveUrl = class BudResolveUrl extends Extension {
    /**
     * Factory {@link Item} resolve-url
     *
     * @public
     */
    async register() {
        const loader = await this.resolve('resolve-url-loader');
        this.app.build.setLoader('resolveUrl', loader);
        this.app.build.setItem('resolveUrl', {
            loader: 'resolveUrl',
            options: ({ path, hooks }) => ({
                root: path('@src'),
                sourceMap: hooks.filter('build.devtool') ? true : false,
            }),
        });
    }
};
BudResolveUrl = __decorate([
    label('@roots/bud-sass/resolve-url')
], BudResolveUrl);
export default BudResolveUrl;
//# sourceMappingURL=extension.js.map