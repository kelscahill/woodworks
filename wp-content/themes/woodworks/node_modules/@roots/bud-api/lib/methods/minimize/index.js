import { isUndefined } from 'lodash-es';
/**
 * Enables minification of built assets.
 *
 * @example
 * Enable:
 *
 * ```js
 * bud.minimize()
 * ```
 *
 * @example
 * Explicitly disable:
 *
 * ```js
 * bud.minimize(false)
 * ```
 *
 * @example
 * Explicitly enable:
 *
 * ```js
 * bud.minimize(true)
 * ```
 *
 * @public
 */
export const minimize = function (enabled = true) {
    const app = this;
    if (enabled === false) {
        app.hooks.on('build.optimization.minimize', false);
        app.extensions.get('@roots/bud-terser').disable();
        app.extensions.get('@roots/bud-terser/css-minimizer').disable();
    }
    if (isUndefined(enabled) || enabled === true) {
        app.hooks.on('build.optimization.minimize', true);
        app.extensions.get('@roots/bud-terser').enable();
        app.extensions.get('@roots/bud-terser/css-minimizer').enable();
    }
    return app;
};
//# sourceMappingURL=index.js.map