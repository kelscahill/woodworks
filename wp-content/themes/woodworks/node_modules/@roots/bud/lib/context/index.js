import { Application } from './application.js';
import { Context } from './context.js';
import { Disk } from './disk.js';
import { Env } from './env.js';
import { Manifest } from './manifest.js';
/**
 * Context factory
 *
 * @remarks
 * @see {@link https://mael.dev/clipanion/docs/contexts}
 *
 * @param rootDirectory - project directory
 * @returns {@link Context}
 *
 * @public
 */
export const makeContext = async (rootDirectory = process.cwd()) => {
    const application = await new Application().find();
    const env = new Env(rootDirectory);
    const disk = await new Disk().findConfigs(rootDirectory);
    const manifest = await new Manifest(disk).read();
    return new Context(application.name?.split(`@roots/`).pop() ?? 'bud', rootDirectory, manifest, disk, application, env);
};
export { Application, Context, Env, Manifest };
//# sourceMappingURL=index.js.map