import fs from 'fs-extra';
import { dirname, resolve } from 'node:path';
import { fileURLToPath } from 'node:url';
/**
 * Application context
 *
 * @public
 */
export class Application {
    /**
     * Application directory
     *
     * @public
     */
    get dir() {
        return dirname(this.manifestPath);
    }
    get dirname() {
        const filename = fileURLToPath(import.meta.url);
        return dirname(filename);
    }
    /**
     * Find application manifest
     *
     * @public
     */
    async find() {
        this.manifestPath = resolve(`${this.dirname}/../../package.json`);
        return await this.handleFindResults(this.manifestPath);
    }
    async handleFindResults(path) {
        const manifest = await fs.readJson(path);
        Object.entries(manifest).map(([k, v]) => {
            this[k] = v;
        });
        this.label = this.name.split('/').pop();
        return this;
    }
}
//# sourceMappingURL=application.js.map